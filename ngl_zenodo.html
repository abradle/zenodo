<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
</head>
<body>
<div id="viewport" style="width:100%; height:100%;"></div>

<script>
    // Just fix these for each page
    var data_base = "JMJD2DA-x336_event2"//"https://zenodo.org/record/239039/files/JMJD2DA-x395_event1"
    // Then add the extensions
    var pdb_file = data_base+".pdb"
    var map_file = data_base+".ccp4"
    // Not sure if this is correct
    var ligSele = "LIG"
</script>

    <script src="ngl.js"></script>
    <script>
// Setup to load data from rawgit
NGL.DatasourceRegistry.add(
    "data", new NGL.StaticDatasource( "//cdn.rawgit.com/arose/ngl/v0.10.0-dev.24/data/" )
);

// Create NGL Stage object
var stage = new NGL.Stage( "viewport" );

// Handle window resizing
window.addEventListener( "resize", function( event ){
    stage.handleResize();
}, false );


// Code for example: test/map-shift

Promise.all( [

    stage.loadFile( "data://JMJD2DA-x336_event2.ccp4.gz" ),
    stage.loadFile( "data://JMJD2DA-x336_event2.pdb" )

] ).then( function( ol ){

    var map = ol[ 0 ];
    var struc = ol[ 1 ];

    struc.autoView( "LIG" )

    map.addRepresentation( "surface", {
        boxSize: 10,
        useWorker: false,
        wrap: true,
        color: "skyblue",
        contour: true
    } );

    struc.addRepresentation( "cartoon" );
    struc.addRepresentation( "ball+stick", { sele: "hetero" } );

    stage.setFocus( 95 );

} );

    </script>
    <div id="viewport" style="width:400px; height:300px;"></div>
</body>
</html>
