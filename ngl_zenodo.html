<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
</head>
<body>
<div id="viewport" style="width:400px; height:400px;"></div>

<script>
    // Just fix these for each page
    var data_base = "JMJD2DA-x336_event2"
    // Not sure if this is correct
    var lig_sele = "LIG"


    // The directory to get the zenodo information out from
    var zenodo_dir = "https://zenodo.org/record/239039/files/"
</script>

    <script src="ngl.js"></script>
    <script>
// Setup to load data from zenodo
NGL.DatasourceRegistry.add(
    "data", new NGL.StaticDatasource( zenodo_dir )
);


function create_view(div_name,event_name,lig_name) {
// Create NGL Stage object
var stage = new NGL.Stage( "div_name" );

// Handle window resizing
window.addEventListener( "resize", function( event ){
    stage.handleResize();
}, false );


// Code for example: test/map-shift

Promise.all( [

    stage.loadFile( "data://"+event_name+".ccp4" ),
    stage.loadFile( "data://"+event_name+".pdb" )

] ).then( function( ol ){

    var map = ol[ 0 ];
    var struc = ol[ 1 ];

    struc.autoView(lig_name)

    map.addRepresentation( "surface", {
        boxSize: 10,
        useWorker: false,
        wrap: true,
        color: "skyblue",
        contour: true
    } );

    struc.addRepresentation( "cartoon" );
    struc.addRepresentation( "ball+stick", { sele: "hetero" } );

    stage.setFocus( 95 );

} );
};
create_view("viewport",data_base,lig_sele);
    </script>
    <div id="viewport" style="width:400px; height:300px;"></div>
</body>
</html>
